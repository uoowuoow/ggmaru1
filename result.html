<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê²°ê³¼ ë°œí‘œ - ê²½ê¸°ë„ì˜íšŒ ìƒì„ìœ„ì›íšŒ</title>
    <!-- Google Fonts ë§í¬ ì¶”ê°€ -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <h1>ê²°ê³¼ ë°œí‘œ ğŸ‰</h1>
        <p>ë‹¹ì‹ ì„ <strong id="committee-name"></strong>ë¡œ ì´ˆëŒ€í•©ë‹ˆë‹¤.</p>
        <!-- âœ… QR ì½”ë“œ ì˜ì—­ -->
        <div id="qr-code" style="margin-top: 20px;"></div>
        <!-- âœ… ë²„íŠ¼ì„ ê°ì‹¸ëŠ” ìƒˆë¡œìš´ ì»¨í…Œì´ë„ˆ ì¶”ê°€ -->
        <div class="button-container-center">
            <button class="main-btn" onclick="openModal()">ìƒì„ìœ„ì›íšŒ<br>ë” ì•Œì•„ë³´ê¸°</button>
        </div>
        <!-- âœ… ëª¨ë‹¬ ì°½ (ë°°ê²½ í´ë¦­ ê°€ëŠ¥) -->
        <div id="imageModal" class="modal" onclick="closeModal(event)">
            <div class="modal-content" onclick="event.stopPropagation();">
                <span class="close" onclick="closeModal()">&times;</span>
                <img id="modalImage" src="" alt="ìƒì„ìœ„ì›íšŒ ì‚¬ì§„">
                <!-- âœ… ìŠ¬ë¼ì´ë“œ ë²„íŠ¼ì„ ê°€ë¡œë¡œ ì •ë ¬í•˜ê¸° ìœ„í•´ í´ë˜ìŠ¤ ì¶”ê°€ -->
                <div class="button-container-horizontal">
                    <button class="slide-btn" onclick="prevImage()">ì´ì „</button>
                    <button class="slide-btn" onclick="nextImage()">ë‹¤ìŒ</button>
                </div>
            </div>
        </div>
        <!-- âœ… "ë‹¤ì‹œ ì‹œì‘í•˜ê¸°" ë²„íŠ¼ì—ë„ ë™ì¼ ì ìš© -->
        <div class="button-container">
            <button class="main-btn" onclick="location.href='index.html'">ë‹¤ì‹œ ì‹œì‘í•˜ê¸°</button>
        </div>
    </div>
    

    <script>
        // âœ… ìƒì„ìœ„ì›íšŒë³„ URL ëª©ë¡
        const committeeURLs = {
            "ì˜íšŒìš´ì˜ìœ„ì›íšŒ": "https://www.ggc.go.kr/site/cmt/home?divisionCommittee=standing&cmtCd=01&cmtNmCd=C001",
            "ê¸°íšì¬ì •ìœ„ì›íšŒ": "https://www.ggc.go.kr/site/cmt/home?divisionCommittee=standing&cmtCd=01&cmtNmCd=C105",
            "ê²½ì œë…¸ë™ìœ„ì›íšŒ": "https://www.ggc.go.kr/site/cmt/home?divisionCommittee=standing&cmtCd=01&cmtNmCd=C205",
            "ì•ˆì „í–‰ì •ìœ„ì›íšŒ": "https://www.ggc.go.kr/site/cmt/home?divisionCommittee=standing&cmtCd=01&cmtNmCd=C301",
            "ë¬¸í™”ì²´ìœ¡ê´€ê´‘ìœ„ì›íšŒ": "https://www.ggc.go.kr/site/cmt/home?divisionCommittee=standing&cmtCd=01&cmtNmCd=C501",
            "ë†ì •í•´ì–‘ìœ„ì›íšŒ": "https://www.ggc.go.kr/site/cmt/home?divisionCommittee=standing&cmtCd=01&cmtNmCd=C601",
            "ë³´ê±´ë³µì§€ìœ„ì›íšŒ": "https://www.ggc.go.kr/site/cmt/home?divisionCommittee=standing&cmtCd=01&cmtNmCd=C701",
            "ê±´ì„¤êµí†µìœ„ì›íšŒ": "https://www.ggc.go.kr/site/cmt/home?divisionCommittee=standing&cmtCd=01&cmtNmCd=C807",
            "ë„ì‹œí™˜ê²½ìœ„ì›íšŒ": "https://www.ggc.go.kr/site/cmt/home?divisionCommittee=standing&cmtCd=01&cmtNmCd=C901",
            "ë¯¸ë˜ê³¼í•™í˜‘ë ¥ìœ„ì›íšŒ": "https://www.ggc.go.kr/site/cmt/home?divisionCommittee=standing&cmtCd=01&cmtNmCd=C9043",
            "ì—¬ì„±ê°€ì¡±í‰ìƒêµìœ¡ìœ„ì›íšŒ": "https://www.ggc.go.kr/site/cmt/home?divisionCommittee=standing&cmtCd=01&cmtNmCd=C905",
            "êµìœ¡ê¸°íšìœ„ì›íšŒ": "https://www.ggc.go.kr/site/cmt/home?divisionCommittee=standing&cmtCd=01&cmtNmCd=C908",
            "êµìœ¡í–‰ì •ìœ„ì›íšŒ": "https://www.ggc.go.kr/site/cmt/home?divisionCommittee=standing&cmtCd=01&cmtNmCd=C909"
        };

        // âœ… ìƒì„ìœ„ì›íšŒë³„ ì´ë¯¸ì§€ ëª©ë¡
        const committeeImageURLs = {
            "ì˜íšŒìš´ì˜ìœ„ì›íšŒ": [
                    "image1-1.jpg",
                    "image1-2.jpg",
                    "image1-3.jpg"
                ],
                "ê¸°íšì¬ì •ìœ„ì›íšŒ": [
                    "image2-1.jpg",
                    "image2-2.jpg",
                    "image2-3.jpg"
                ],
                "ê²½ì œë…¸ë™ìœ„ì›íšŒ": [
                    "image3-1.jpg",
                    "image3-2.jpg",
                    "image3-3.jpg"
                ],
                "ì•ˆì „í–‰ì •ìœ„ì›íšŒ": [
                    "image4-1.jpg",
                    "image4-2.jpg",
                    "image4-3.jpg"
                ],
                "ë¬¸í™”ì²´ìœ¡ê´€ê´‘ìœ„ì›íšŒ": [
                    "image5-1.jpg",
                    "image5-2.jpg",
                    "image5-3.jpg"
                ],
                "ë†ì •í•´ì–‘ìœ„ì›íšŒ": [
                    "image6-1.jpg",
                    "image6-2.jpg",
                    "image6-3.jpg"
                ],
                "ë³´ê±´ë³µì§€ìœ„ì›íšŒ": [
                    "image7-1.jpg",
                    "image7-2.jpg",
                    "image7-3.jpg"
                ],
                "ê±´ì„¤êµí†µìœ„ì›íšŒ": [
                    "image8-1.jpg",
                    "image8-2.jpg",
                    "image8-3.jpg"
                ],
                "ë„ì‹œí™˜ê²½ìœ„ì›íšŒ": [
                    "image9-1.jpg",
                    "image9-2.jpg",
                    "image9-3.jpg"
                ],
                "ë¯¸ë˜ê³¼í•™í˜‘ë ¥ìœ„ì›íšŒ": [
                    "image10-1.jpg",
                    "image10-2.jpg",
                    "image10-3.jpg"
                ],
                "ì—¬ì„±ê°€ì¡±í‰ìƒêµìœ¡ìœ„ì›íšŒ": [
                    "image11-1.jpg",
                    "image11-2.jpg",
                    "image11-3.jpg"
                ],
                "êµìœ¡ê¸°íšìœ„ì›íšŒ": [
                    "image12-1.jpg",
                    "image12-2.jpg",
                    "image12-3.jpg"
                ],
                "êµìœ¡í–‰ì •ìœ„ì›íšŒ": [
                    "image13-1.jpg",
                    "image13-2.jpg",
                    "image13-3.jpg"
                ],
            };

        const urlParams = new URLSearchParams(window.location.search);
        const committee = urlParams.get('committee');
        const committeeNameElement = document.getElementById("committee-name");
        const qrCodeContainer = document.getElementById('qr-code');
        const modal = document.getElementById('imageModal');
        const modalImage = document.getElementById('modalImage');
        let currentImageIndex = 0;
        let currentCommitteeImages = [];

        if (committee && committeeURLs[committee]) {
            committeeNameElement.textContent = committee;

            // âœ… QR ì½”ë“œ ìƒì„±
            const committeeURL = committeeURLs[committee];
            const qrCodeURL = `https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(committeeURL)}`;
            qrCodeContainer.innerHTML = `<img src="${qrCodeURL}" alt="QR Code for ${committee}">`;

            // âœ… ì´ë¯¸ì§€ ìŠ¬ë¼ì´ë“œ ë°ì´í„° ì¤€ë¹„
            currentCommitteeImages = committeeImageURLs[committee] || [];
        } else {
            committeeNameElement.textContent = "ê²°ê³¼ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.";
            qrCodeContainer.innerHTML = `<p style="color: red;">QR ì½”ë“œë¥¼ ìƒì„±í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>`;
        }

        // âœ… ëª¨ë‹¬ ì—´ê¸° í•¨ìˆ˜
        function openModal() {
            if (currentCommitteeImages.length > 0) {
                modal.style.display = "flex";
                modalImage.src = currentCommitteeImages[currentImageIndex];
            } else {
                alert("ì´ë¯¸ì§€ê°€ ì—†ìŠµë‹ˆë‹¤.");
            }
        }

        // âœ… ëª¨ë‹¬ ë‹«ê¸° (ë°°ê²½ í´ë¦­ í¬í•¨)
        function closeModal(event) {
            // ë°°ê²½ì„ í´ë¦­í–ˆì„ ë•Œë§Œ ëª¨ë‹¬ ë‹«ê¸°
            if (!event || event.target.classList.contains('modal')) {
                modal.style.display = "none";
            }
        }

        // âœ… ê¸°ì¡´ close ë²„íŠ¼ ê¸°ëŠ¥ ìœ ì§€
        function closeButton() {
            modal.style.display = "none";
        }

        // âœ… ì´ì „ ì´ë¯¸ì§€ ë³´ê¸°
        function prevImage() {
            currentImageIndex = (currentImageIndex - 1 + currentCommitteeImages.length) % currentCommitteeImages.length;
            modalImage.src = currentCommitteeImages[currentImageIndex];
        }

        // âœ… ë‹¤ìŒ ì´ë¯¸ì§€ ë³´ê¸°
        function nextImage() {
            currentImageIndex = (currentImageIndex + 1) % currentCommitteeImages.length;
            modalImage.src = currentCommitteeImages[currentImageIndex];
        }
    </script>
</body>
</html>
